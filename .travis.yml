language: java

env:
  global:
    - secure: "pSWXTpZnwsyCn/l5QWbHFGSVSR3UtsVafzjmKrSnaDHiB5dxdXY4gPM+PXPyyfbDPtonxXlm2H+qNiz+O4f2kIpIdboNuOjrgvg5BNGekGV3cET/CrSM+pKQ5ZDH+Xk9Lh5cgT6pmuMiEt/nTSuFqCY3X7vv9zd9DfenosHX+mPVZKUmWLZ/ZNZZK/Ao1yFBkK7IXBD9jE2SBSWMU93RU+jxOy3yrraApLAfFt2j8tcmu9NdHVoguHwDVW5xvBqFuLjyy81N35QZd+xxno18ljnavgMafIVHdCx9IcKvGbfzDojCtlhGDXhaVhGdnCVWypisVu/9GP8Binob3ClprfkQ/F/hEJPU/UnMAgIuZU55xRmFxFUTmPCoqBOQD76hdW0fOz0V1dL2wX9MoyA+knZFH++j4EI/eP172SXM4bdRvdRCNVj0MEKwM9gdIVvSdUpidC/R2/hj+W5f3zCM5KugCpln2QqwEu6cihXGPUHzvUBX63xP+KFW37vLiiK6T7eNwO9ZTz67JZOYxxrRiiDXSWqJ/zvKKs7NAi9zSsbkm9yBmexP3z2TUOny6XSICb3tsqUXbb9eov/tc+oBaS7pZvL+fwIRih6944f7wpb7Yf5vgQGwv7azSoD0dNPwy+j3e2L54XUR2vBHeGdlVSbI5HzKL9HRm5I7MvkGNJM="
    - # ^^ OSSRH_JIRA_USERNAME
    - secure: "c3LInVTm/7Yg5oia0o5x4GqsMB5p8NugrLUEg9ZgCw/pC7XyoQR4jUgMw689Edh3IiTrg5hGQIFxZEtPCEqWOdMEOEMorp4w8CUFTxb2OElZpENzj85XWDFwwCWSQ0Hajz4IPvfZ4FX0wlLaE6Fi8x9DZ3X57epelThlBPtmH5r14U+bdZKHYfSYjeyI5bn0Y8Gau7FiOGp04u7vaF3f0I9SOkUxCxyNnK35sQ+Xv1wfWgu0J9yLXulrNdiXKd+JYoLa2YluOnkyoP4WvtwY7+ZPq1ditXI9XyanicbEbjW1tM+9Xn2fwe/5R7YyZvfihkjoVGscFCiqbhPnPPa40BNgEf+M2DDYSjbQ5l3tC2VhZ7EIf5R6RHSH+or0QMlgKZ1jM6Bil6IkpOhJInbxh+nnKid6hwynbcpOyApGTKYXFpe2869fKss3FtA7ULdJaiGLJmcZ+yGjf58aNrgDvRzkNaR96cNOub5xXU/Gg5FgsbmiP6THeEHQttX8kYEz/RH12k0PUee4G8Lq+Nmm08la0VsivkjKU2seWQBxBvZtCdcISArEVQCoBNwfXor04YVb/HgrnZedfzqc+81nUWpOOIAzWIShZZAiJ3yY10PrYygv1hJ0baT7Ru7j6JRywcHvskPLtEmug5e80HfzyLlPL9Bm7CPnj+aUfTDBMZE="
    - # ^^ OSSRH_JIRA_PASSWORD
    - secure: "TZg+3Jq5JJVdKbA70OZS4einMryBZSOzIHeD2yejTm5elhdTZQkw8SlUYo8KsuQOsv1UaRrKFZXiTrFxU9c7wycD6Dstrs0mGJmcTr88LISPA16Zxv0hEsy3QPf/Dzqht4WIzebA1ng2EMZFXVVYU3tzFsq7QWUle3GIDX/OvryLPxSfzfxn9Jrf2lKtHmzJu/fVBtEMGZ8ec1QmI/08+Elup+EXOwTs7cVMNXXFPLFIjbY0D1KI9/r88P4mPZQHKGuC6/E7uIOMGzvOwKQkN+bxhotW/4fLumiu2rq2yWmQew/WrMrQYYzEbVE2PUtPplG29cNa5e1WGns/Zh2yEfaxsKJRAisKXoW60RyoDBTcOzgVpIo3jDf3hciAmwQL6MEHad+vmZxtHEStW1W0cX0jOEQxxOBlEuTO17gNF3aHqE/5g+pDgceTzIh8Km0zBHeLekeCWbj8jnqWdp9U9+57OsZ9fG0VKKukFw3dzdQZCbyLpgW2eTrA8KdGIarrN3kHOSQeeEpcE+c9tOy5ME1MpoaEU7l6/vR8F/OrvCc/wunZYE8wgIHctg/h/i16Z1miV7Qy5P9UMyWo5vQQyRrVl+p5aEigDU12/vA2+y3cUC4cfC/zwlzWA37rkhKLPmg9+ZqqeKk9RYY6CB+U/K9gp32CfaUzl4PjK0YqK24="
    - # ^^ GPG_KEY_NAME
    - secure: "CPl4cDeOQN6TwLzmGr7mo86pFwEQJzTPINsWa0CoRh2z3zOxkm9V4rPy21P+bp7Ha8Oz7AETszIfP48dlsytOePwudD3k8Rz/f4Hs4cfSCjdZI88eyLJEiu3enhpPSQ37NbhF0hzg6EEfHF2M7+qgXImil33gPjp2psa4iDMQBJphBuADjrAsjovXwcp3yMOBGpfnOgruJIs76cBN1+KCH/pv3qXEj0KlYg1Us6tbQYP6pRDDPjfkgUNjQ6P5Fdy6975kaMBlSVmxADq/bEZ/f8ZX79xd6UY3jVGkefDNJGtGl1SgTfQI1Z9M30atHIBLtojyMyepNlrLhdFybVBUJEzJ+ZezBuFdFAwjI+vARkRrEjI2MONqCcJ6luJiv5ex/KNobAHVYLOwwsV0Y+aHZx0l0EkxvcekR6jKcwHryukr0L46wGTc4UoqflYGN7z/Zo2krErW/sjA6sv1RGTl6YaFIFcyyhpExwMTiymiJ0XzaxXyFOHEunCS8LARhnHFDxN/B410v55L4HLPQkWvYYKjDpR+bhrgy24Wzl8wN+CsXRRwxOqhGp6fBL0i8Hvbh7RHwG+c8dl1IAjLoPAprY4+eVXqBeP1KmqYs1sUrGshH7Bp3QLKt6xonAj2j2fMufXs/18GI3NzjC8wZ2sIaVqsnH/NEDcnlXJqXRiIi4="
    - # ^^ GPG_PASSPHRASE

install: mvn install -P !generate-docs -DskipTests=true -Dmaven.javadoc.skip=true -B -V
script: mvn test -P !generate-docs -B

cache:
  directories:
    - ~/.m2/repository

after_success:
  # Code coverage
  - bash <(curl -s https://codecov.io/bash)
  - ./cd/before-deploy.sh
  - ./cd/deploy.sh