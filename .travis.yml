language: java

env:
  global:
    - secure: "pSWXTpZnwsyCn/l5QWbHFGSVSR3UtsVafzjmKrSnaDHiB5dxdXY4gPM+PXPyyfbDPtonxXlm2H+qNiz+O4f2kIpIdboNuOjrgvg5BNGekGV3cET/CrSM+pKQ5ZDH+Xk9Lh5cgT6pmuMiEt/nTSuFqCY3X7vv9zd9DfenosHX+mPVZKUmWLZ/ZNZZK/Ao1yFBkK7IXBD9jE2SBSWMU93RU+jxOy3yrraApLAfFt2j8tcmu9NdHVoguHwDVW5xvBqFuLjyy81N35QZd+xxno18ljnavgMafIVHdCx9IcKvGbfzDojCtlhGDXhaVhGdnCVWypisVu/9GP8Binob3ClprfkQ/F/hEJPU/UnMAgIuZU55xRmFxFUTmPCoqBOQD76hdW0fOz0V1dL2wX9MoyA+knZFH++j4EI/eP172SXM4bdRvdRCNVj0MEKwM9gdIVvSdUpidC/R2/hj+W5f3zCM5KugCpln2QqwEu6cihXGPUHzvUBX63xP+KFW37vLiiK6T7eNwO9ZTz67JZOYxxrRiiDXSWqJ/zvKKs7NAi9zSsbkm9yBmexP3z2TUOny6XSICb3tsqUXbb9eov/tc+oBaS7pZvL+fwIRih6944f7wpb7Yf5vgQGwv7azSoD0dNPwy+j3e2L54XUR2vBHeGdlVSbI5HzKL9HRm5I7MvkGNJM="
    - # ^^ OSSRH_JIRA_USERNAME
    - secure: "c3LInVTm/7Yg5oia0o5x4GqsMB5p8NugrLUEg9ZgCw/pC7XyoQR4jUgMw689Edh3IiTrg5hGQIFxZEtPCEqWOdMEOEMorp4w8CUFTxb2OElZpENzj85XWDFwwCWSQ0Hajz4IPvfZ4FX0wlLaE6Fi8x9DZ3X57epelThlBPtmH5r14U+bdZKHYfSYjeyI5bn0Y8Gau7FiOGp04u7vaF3f0I9SOkUxCxyNnK35sQ+Xv1wfWgu0J9yLXulrNdiXKd+JYoLa2YluOnkyoP4WvtwY7+ZPq1ditXI9XyanicbEbjW1tM+9Xn2fwe/5R7YyZvfihkjoVGscFCiqbhPnPPa40BNgEf+M2DDYSjbQ5l3tC2VhZ7EIf5R6RHSH+or0QMlgKZ1jM6Bil6IkpOhJInbxh+nnKid6hwynbcpOyApGTKYXFpe2869fKss3FtA7ULdJaiGLJmcZ+yGjf58aNrgDvRzkNaR96cNOub5xXU/Gg5FgsbmiP6THeEHQttX8kYEz/RH12k0PUee4G8Lq+Nmm08la0VsivkjKU2seWQBxBvZtCdcISArEVQCoBNwfXor04YVb/HgrnZedfzqc+81nUWpOOIAzWIShZZAiJ3yY10PrYygv1hJ0baT7Ru7j6JRywcHvskPLtEmug5e80HfzyLlPL9Bm7CPnj+aUfTDBMZE="
    - # ^^ OSSRH_JIRA_PASSWORD
    - secure: "Hd5NLVEQGkcFyeFNKPpLZ0qcFiJEvW1SsF55q1Z86iK6JWbVItSDn339rxyHWwnN9ED730st9YCvE2bV7ZL8pv/XzTP9aEAzNt2rlat1Io1vw+kOYN7/t15uAs3+fPGZ+pxttrNglYVdH+AZ/oaAJ4GlPG8OVNa48kbE2qmrLMII4z5eKMFxTN3gtJcDhVydscSiESTTbqSEKMR2mAMVq4rLwsd8iJgfeaWXJfAu74owU0d9+bfDYp0Rbtb5unpdwDgnGXNfdr72GYcsGuUMdWk44R9/EuHE5RQnCdeggxwLCSnU5mP6Gl9cCGLuOoVnZKIQbJ7VzmCF4viIU9ndsGOuyC0byPlplDEKh8PSBtiKB4qR7L8WKbvJWRBf1VrkTkEjbip6IEY+rtRPmydSjzm92VOTiGyDWrDr81SOLkY4amrv6VsIXE8PL3c93UH/VrAF2yJ2X9AqoHviP4BcTMPIJ4iTtHZE0WhqgcJ3S9uHE4PhuNcofkAJr7FDM0FhgtdyEFdZsoMWRnS04sfrAdqE0u7neiJnleZPUHCMOePZyOiGcgX/RqD0NsoSDeUGMeZTa2GhMD9eLCJVjTcrNAKTIm/VbP8qLrqVzZOWufR/f6Id+qTiKNS2e4rBBx25VoOba4Elav1OZFtTNZKvRt2gBVs/JbmcbYFk6o7WEwg="
    - # ^^ GPG_KEY_NAME
    - secure: "XBgIhOMGjymwN04ZfB8wnK5BctIVdrgI19XTxWsj4E6zbznC6JKoIWgykwSjJh5IX3ErX8+6wFFxUPO/q2731ccxS61NwlhkXw73K2nhsF8Au/ZP02RCdcDs6RKRxL2p326jqu5IilEAAHsx1KsfqrgHhYzh8QPfuqCHBTvi//oIOOEL2+E802b5Skf9r2JpU/gQWgUz9YjOYD4aQnCex4LVOdVh8Chc3S2ramVvdansaYCn1zFDeeyGbNy4yR678HKWaN8KWdzbBdstz5+RLhgKKAKf8cNgroTVbM6/W8Ai8da0dGX2oJYEvLqy34Ld/LafHHe6dMRxKIMhtrStJZRFIdTBwfOPLAV6aZqkFgF1yS7Lud5EV7ORu9VPELsuTQicExRAKoGmb48vVVi4UHsIAp5UIYoGNcWfiLs39s8x39OzW9T+hzUhMCY85NDqpuII8wBF8X0d8OtBTFQjjh9d1spCkOdRsx/v0KQI1atDYdhzdQEohqCmaoKcfWrgeJwA6T7dPBtl+xsmaqOLrDVWPrDt2lnisY6KbJeqynQZkjbq8Tp8csWwTA6O89jfAwoyomXXpVR1UccnN/SiSAQfRF5ZOJE7XMIdHGFKbSeaOyTpwXvy25Rv/rnij78oyGrjC4+JnbzZPfsSjTx9bHnhZrX0zVe6OXj0KdKjtBQ="
    - # ^^ GPG_PASSPHRASE

install: mvn install -P !generate-docs -DskipTests=true -Dmaven.javadoc.skip=true -B -V
script: mvn test -P !generate-docs -B

cache:
  directories:
    - ~/.m2/repository

after_success:
  # Code coverage
  - bash <(curl -s https://codecov.io/bash)
  - test $TRAVIS_TAG IS present && ./cd/before-deploy.sh
  - test $TRAVIS_TAG IS present && ./cd/deploy.sh